# Experiments, Roadmap and Known Issues

Copilot Workspace is a technical preview and is under active development. This document lists some known issues and known areas where we'd like to make future improvements.

We will be doing ongoing continuous releases of Copilot Workspace during the technical preview, adding new features, new experiments and fixing bugs as we go. 

## Active experiments

There are several active "Experiments" available related to things we are working on. We invite you to activate these and will update this document with new experiments when they are available.

### Revising with natural language (🥼)

We are experimenting with a feature that allows you to revise code using natural language. Enable this using the "Revise with natural language" feature in Copilot Workspace, which adds an icon to the toolbar to quickly clarify the spec or plan.

### Using linked issues (🥼)

We are experimenting with a feature that allows Copilot Workspace to utilize the textual content of linked issues when analyzing tasks. Enable this using the "Use linked issues" feature in Copilot Workspace.

### Always using line numbers (🥼)

Copilot Workspace selectively uses line numbers in its AI analysis based on perceived need based on the text of the task. In the future we will likely move to always using line numbers. Enable this using the "Always use line numbers" feature in Copilot Workspace.

### Clarify ambiguous specifications (🥼)

We are experimenting with a feature that allows Copilot Workspace to detect and warn about ambiguous specifications, in co-operation with the user. Enable this using the "Clarify ambiguous specifications" feature in Copilot Workspace.

## Core areas for improvement

The following are core areas where we are actively working to improve Copilot Workspace.

### Rewriting large files

When Copilot Workspace implements a plan that involves changes in a large file, it can take a long time to complete. Copilot Workspace currently uses "whole file rewriting" as we have found this achieves a high level of thoroughness on the very heterogeneous range of tasks Copilot Workspace can be used for.

We are working on partial-file rewriting techniques, both automatic and under user-guidance, to improve the performance of this operation.

### Code generation

The quality of the code generated by Copilot Workspace is not always perfect. It is highly related to the quality of the underlying AI-models used. We are working on improving the quality of the code generated by Copilot Workspace on many levels.

For example, the quality of code generation is affected by the quality of the planning and specification of the task, and the overall user-experience of assessing and clarifying these. We are working to improve these too.

The achieved quality is also related to the experience of iterating on the generated code. We are actively looking at more fine-grained iteration techniques.

### Content selection

The content selection in Copilot Workspace can sometimes be suboptimal, leading to the generation of code that is not relevant to the task. We are working on improving the content selection in Copilot Workspace.

### Web retrieval

Tasks can include direct links to web resources such as documentation. Further, some web retrieval can also be deduced from the task. Copilot Workspace does not currently perform web retrieval and we are working on adding this feature.

### Build/test repair

After code is generated, both AI and traditional tooling can be used to "repair" the code based on diagnostics generated from building, testing and running the code. We prototyped early versions of this in Copilot Workspace and it is an area of active investigation.

### Tasks small, tasks large

Some tasks are very small: updating a few lines of a file. Some tasks are very large: implementing an entirely new repository feature by feature.

Copilot Workspace is currently designed for the mid-range of tasks typical of GitHub issues. We are interested in delivering variations on the core concepts of Copilot Workspace in arrangements more suitable to tasks both small and large. For example, for small tasks we may offer a "lite" version of Copilot Workspace where there is only the task. For large tasks we may offer a way to decompose the task into sub-tasks.

### Authorization

Copilot Workspace uses a GitHub OAuth App for authentication. Some organizations can have [policies which restrict OAuth applications from interacting with their repositories](https://docs.github.com/en/organizations/managing-oauth-access-to-your-organizations-data/about-oauth-app-access-restrictions). You will not be able to perform tasks in private repositories with Copilot Workspace, or create pull requests in public repositories unless the organization admin approves the Copilot Workspace OAuth application.

We are working to add a second authorization option for Copilot Workspace based on a GitHub App, and will update this document when this is available.

### Scaling

Copilot Workspace can be used with many existing large repositories. However, some repositories are so large that even listing their files can be a challenging exercise. Further, some repositories contain highly unusual content: files with enormously long lines, or binary files with unusual extensions, and so on. Large repositories are also challenging to content selection and planning.

Copilot Workspace places a limit on the GitHub-reported size of repositories that may be analyzed. If a repository is above this limit you may see `Copilot Workspace may not be used to analyze <owner>/<repo> due to size limitations`.

We are working on improving the scalability of Copilot Workspace to handle these cases.

### Validation

Copilot Workspace provides an integrated terminal to assist with validating code. We are continuously working on a range of techniques to improve the validation capabilities of Copilot Workspace.

### Developer tooling

Copilot Workspace is currently delivered as a web application with an opinionated UX modality. A core design principle is to make this experience available pervasively, and we will be assessing enabling alternative delivery mechanisms in IDEs or at the command-line.

We are also looking at augmenting the range of developer tooling to integrate with Copilot Workspace web experience.

## Known issues

The following are more specific known issues related to the current release of Copilot Workspace.

### Ambiguity detection can kick in too often

The ambiguity detection in Copilot Workspace can sometimes be too sensitive, and can kick in even when the task is clear. We are working on improving the accuracy of the ambiguity detection in Copilot Workspace.

### Choosing an existing issue needs better UX

When choosing an existing issue to work on, the user experience is not as smooth as it could be, and it can be easier just to adjust the deep-link URL for Copilot Workspace or return to the issue page on GitHub and choose "Open in Workspace".

### Commits from Workspaces PRs are not currently signed

Commits from Workspaces PRs are not currently signed. We will be working on adding this feature.

### There is no 'Stop' button when generating pull request descriptions

There is no 'Stop' button when generating pull request descriptions. We are working on adding this feature.

### Auto-completion list is sometimes positioned incorrectly on mobile

On mobile, the auto-completion list is positioned wrong when adding a file to the plan. A fix is in progress for this.

### Terminal start-up time

We are actively working to improve the terminal start-up time in Copilot Workspace.

## Troubleshooting

### Troubleshooting Organizations

- **You are accessing an org that must approve OAuth apps**. As part of the login you authorize the OAuth app into various orgs, depending on the org policies with regard to OAuth apps. You can request access and the organization can approve the OAuth app. If you need to re-request access or revoke any access at all you can [control the status of your connection with the OAuth app](https://github.com/settings/connections/applications/903eccd8a9d2ff50288f).

- **Although you appear to have the correct authorization credentials, the `github` organization has enabled OAuth App access restrictions, meaning that data access to third-parties is limited.** This is because an org restricts OAuth apps. Some of authorization attempts for orgs may fail if the org doesn't allow OAuth apps at all. This can affect even access to public repositories in organizations that deny access to OAuth apps.

- **Resource protected by organization SAML enforcement. You must grant your OAuth token access to this organization**.You may be logging in to an organization with SAML control, e.g. Microsoft. They should
  1. Log out of Copilot Workspace.
  2. Go through SAML auth in the browser by looking at, say, a repository of the organization
  3. Then log back into Copilot Workspace.

### Troubleshooting Private Repositories

- **You can't access a private repository in your own account**. After login you should be able to access your personal private repositories unless you have removed access for the OAuth app. If you have trouble, it is possible it is because you landed in Copilot Workspace via a sharing link and have only given public repo privileges. You should log out and log back in again and this should restore access. Failing that you should [check the status of their connection with the OAuth app](https://github.com/settings/connections/applications/903eccd8a9d2ff50288f).

### Troubleshooting Codespaces

- **Billable owner could not be determined for a new codespace, Repository may not be used for a codespace.** The CW OAuth app is not installed in the billable owner's organization.
